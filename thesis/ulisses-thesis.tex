\documentclass[a4paper,11pt, twoside]{report}
\usepackage[left=2.5cm,right=2cm,top=3cm,bottom=3cm]{geometry}

\usepackage{lineno}
\usepackage{etoolbox}
\usepackage[all]{xy}
\usepackage[english]{babel}
\usepackage{amssymb, amsmath} %math functions
\usepackage[T1]{fontenc}
%\usepackage{ae}
\usepackage[utf8x]{inputenc}
\usepackage{url}

\usepackage{indentfirst}
\usepackage{listings}
\usepackage{multirow}
\usepackage{tabularx}
%\usepackage{colortbl}
\usepackage{rotating} % for the rotated columns of table

% my imports
\usepackage{fancybox}
\usepackage{fancyhdr}
\usepackage{fancyvrb}
\usepackage{psboxit} % for the neat boxes on the footer
\usepackage{cite}
\usepackage[avantgarde]{quotchap}
\usepackage[english]{minitoc}
\usepackage{pgf}
\usepackage{color,graphicx}
\usepackage[all]{xy}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% DEFINE THE COLOR OF THE DOCUMENT
% use \def\bw{1} to generate the document in black and white
 \def\bw{1}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\ifx\bw\undefined
\usepackage[pdfauthor={Ulisses Araujo Costa},
            urlcolor=darkblue,
            citecolor=darkblue,
            filecolor=darkblue,
            linkcolor=darkblue,
            pdftex,bookmarks,colorlinks,a4paper]{hyperref}
\else
\usepackage[pdfauthor={Ulisses Araujo Costa},
            urlcolor=black,
            citecolor=black,
            filecolor=black,
            linkcolor=black,
            pdftex,bookmarks,colorlinks,a4paper]{hyperref}
\fi
% end notes package (the second one --- hyperendnotes is for use hyperref with endnotes)
\usepackage{endnotes,chngcntr}
\usepackage{hyperendnote}

\usepackage{pifont} % for \cross symbol newcommand
\usepackage{subfig}
\usepackage{graphicx}

\usepackage[acronym,shortcuts]{glossaries}
\makeglossaries

\definecolor{darkblue}{rgb}{0,0,0.6}
%\renewcommand\familydefault{\sfdefault}% usar font sem serifas
\pdfpagewidth=\paperwidth
\pdfpageheight=\paperheight

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\lstdefinelanguage{codeTTN}
{
        basicstyle=\ttfamily\footnotesize,
        sensitive=true,
        showstringspaces=false,
        numberblanklines=true,
        showspaces=false,
        breaklines=true,
        showtabs=false,
		numbers=left,
		numberstyle=\footnotesize,
		xleftmargin=15pt
}
\lstnewenvironment{code}{\lstset{language=codeTTN}}{}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\ifx\bw\undefined
\newcommand{\checkK}{\color{green}\checkmark}
\newcommand{\cross}{\color{red}\hspace{-3pt}\ding{55}}
\newcommand{\bigexclaim}{\color{yellow}$\bigtriangleup$\hspace{-5.6pt}!}
\else
\newcommand{\checkK}{\color{black}\checkmark}
\newcommand{\cross}{\color{black}\hspace{-3pt}\ding{55}}
\newcommand{\bigexclaim}{\color{black}$\bigtriangleup$\hspace{-5.6pt}!}
\fi
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% first reset the headers and footers

\fancyhead{}
\fancyfoot{}
%% make the odd pages have the section name on the top right
\fancyhead[RO]{\sffamily\bfseries \rightmark}
%% make the even pages have the chapter name on the top left
\fancyhead[LE]{\sffamily\bfseries \leftmark}

%% page nums on the bottom in a nice box
%% even side pages
\fancyfoot[LE]{\psboxit{box 0.8 setgray fill}
{\framebox[10mm][c]{\rule{0cm}{4mm}\color{black}{\bfseries \thepage}}}}
%% odd side pages
\fancyfoot[RO]{\psboxit{box 1 setgray fill}
{\hspace{\textwidth}\psboxit{box 0.8 setgray fill}
{\framebox[10mm][c]{\rule{0cm}{4mm}\color{black}{\bfseries \thepage}}}}}

%% make the bottom line above the page number box
\renewcommand{\footrulewidth}{0.4pt}
\renewcommand{\footruleskip}{0mm}

\pdfpagewidth=\paperwidth
\pdfpageheight=\paperheight

\pagestyle{fancy}
%%\lhead{}
%%\rhead{}

%% now redefine the plain style pages (chapter pages, contents pages)
%% to have the same page number stuff on the bottom
\fancypagestyle{plain}{}
%	\fancyhf{}
%	\fancyfoot[RO]{\psboxit{box 1 setgray fill}
%	{\hspace{\textwidth}\psboxit{box 0.8 setgray fill}
%	{\framebox[10mm][c]{\rule{0cm}{4mm}\color{black}{\bfseries \thepage}}}}}
%	\renewcommand{\headrulewidth}{0pt}
%	\renewcommand{\footrulewidth}{0.5pt}
%}

%% this next section (till \makeatother) makes sure that blank pages
%% are actually completely blank, cause they're not usually
\makeatletter
\def\cleardoublepage{\clearpage\if@twoside \ifodd\c@page\else
	\hbox{}
	%\vspace*{\fill}
		\phantom{}
	\thispagestyle{empty}
		\vfill
		\vfill
	\newpage
	\if@twocolumn\hbox{}\newpage\fi\fi\fi}
\makeatother
%%\parindent=0pt
%%\parskip=4pt
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%% stuff do minitoc %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\setcounter{minitocdepth}{2}
\setlength{\mtcindent}{24pt}
\renewcommand{\mtcfont}{\small\rm}
\renewcommand{\mtcSSfont}{\small\bf}
\renewcommand{\mtctitle}{Contents of chapter \thechapter}
%\newenvironment{mtc}{\secttoc\sectlof\sectlot}{\pagebreak}
%                        ^       ^        ^
%                    conteudos  figuras  tabelas
% \newenvironment{mtc}{\minitoc\minilof\minilot}{\pagebreak}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% A Black page with a message in the middle: "This page intentionally left blank"
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\blankpage}
	{
		\thispagestyle{empty}
		\phantom{}
		\vfill
		\begin{center}{\centering This page intentionally left blank}\end{center}
		\vfill
		\newpage
		\addtocounter{page}{-1}
	}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Author notes
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\def\note#1{{\noindent {\color{red}\textbf{NOTA:} #1}}}
% New Content
\newcommand{\new}[1]{{\linenumbers\color{blue}#1}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% ACRONYM (GLOSSARY)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% List of Acronyms leged
\newcommand{\listofacronymsname}{List of Acronyms}
% remove the dot (.) at the end of a glossary entry...
\renewcommand*{\glspostdescription}{}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%% ENDNOTES %%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Replace all footnotes by endnotes
\let\footnote=\endnote
\let\theendnotee=\theendnote
% Section of endnotes (at the end of a chapter usually)
\newcommand{\secendnote}{
	% If we don't have footnotes in a chapter, don't print the footnotes listing
	\ifnum\value{endnote}=0
	\else
		\newpage
		\begingroup
		\parindent 0pt
		\parskip 2ex
		\def\enotesize{\normalsize}
		\def\notesname{Notes of chapter \arabic{chapter}}
		\def\theendnote{\arabic{chapter}.\theendnotee} %2.1 note menas that is the first note (1) from chapter 2 :)
		\theendnotes
		\endgroup
	\fi
}
% Reset endnote numbering every new chapter
\counterwithin{endnote}{chapter}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% BEGIN OF LaTeX DOCUMENT
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}
\pagenumbering{roman}
\include{acronyms}
\include{cover}
\include{acknowledgements}
\include{resumo}
\include{abstract}
\dominilof \dominilot \dominitoc
\cleardoublepage \tableofcontents \addcontentsline{toc}{chapter}{\contentsname}
\cleardoublepage \listoftables    \addcontentsline{toc}{section}{\listtablename}
\cleardoublepage \listoffigures   \addcontentsline{toc}{section}{\listfigurename}
% Print Glossary into the document
\newpage
\addcontentsline{toc}{section}{\listofacronymsname}
\printglossary[
	 type=\acronymtype
	,style=listdotted
	,title={\listofacronymsname}
	,toctitle={\uppercase{\listofacronymsname}}
	]
% Start the thesis
\newpage
\pagenumbering{arabic}
\addtocounter{mtc}{+1} %fix the minitoc numbering
\include{introduction}
\include{testing}
\include{exploringtesting}
\include{ocl}
\include{work}
\include{system}
\include{casestudy}
\include{conclusion}

%bibliography
\cleardoublepage
\addcontentsline{toc}{chapter}{\bibname}
\bibliographystyle{alpha}
\bibliography{thesisBib}

\end{document}

